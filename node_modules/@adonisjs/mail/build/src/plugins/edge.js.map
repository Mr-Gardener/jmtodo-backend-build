{"version":3,"sources":["../../../src/plugins/edge.ts"],"sourcesContent":["/*\n * @adonisjs/mail\n *\n * (c) AdonisJS\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nimport type { PluginFn } from 'edge.js/types'\nimport debug from '../debug.js'\n\n/**\n * Registers mjml component to convert email markup\n * to HTML\n */\nexport const mailPluginEdge: PluginFn<undefined> = (edge) => {\n  debug('detected edge. registering mjml component')\n\n  edge.global('mail', {\n    async processMjml(markup: string, options: any) {\n      const mjml = await import('mjml')\n      return mjml.default(markup, options).html\n    },\n  })\n\n  edge.registerTemplate('mjml', {\n    template: `{{{ await mail.processMjml(await $slots.main(), $props.all()) }}}`,\n  })\n}\n"],"mappings":";;;;;;;;AAgBO,IAAMA,iBAAsC,wBAACC,SAAAA;AAClDC,gBAAM,2CAAA;AAEND,OAAKE,OAAO,QAAQ;IAClB,MAAMC,YAAYC,QAAgBC,SAAY;AAC5C,YAAMC,OAAO,MAAM,OAAO,MAAA;AAC1B,aAAOA,KAAKC,QAAQH,QAAQC,OAAAA,EAASG;IACvC;EACF,CAAA;AAEAR,OAAKS,iBAAiB,QAAQ;IAC5BC,UAAU;EACZ,CAAA;AACF,GAbmD;","names":["mailPluginEdge","edge","debug","global","processMjml","markup","options","mjml","default","html","registerTemplate","template"]}